/*! @wayfu/wayfu-dom v0.1.5 - (c) WayFu, ISC License */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DOM=t():e.DOM=t()}(self,(()=>(()=>{"use strict";var e={d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>c});class r extends Array{get isEmpty(){return this.length<=0}get nonEmptyValue(){return this.filter((e=>!!e))}get first(){return this.isEmpty?void 0:this.at(0)}get last(){return this.isEmpty?void 0:this.at(this.length-1)}changeIndex(e,t){if(t>=this.length){let e=t-this.length+1;for(;e--;)this.push(void 0)}return this.splice(t,0,this.splice(e,1)[0]),this}countValue(e){let t=0;return this.forEach((r=>{t+=r===e?1:0})),t}isOnArray(e){return this.some((t=>e===t))}static split(e,t){let r=e.split(t);return new MyArray(...r)}}const s={snaKebab:/([-_][a-z])/g,camelCase:/[A-Z]/g};function i(e){let{camelCase:t}=s;return t.test(e)?e.replace(t,(e=>`-${e.toLocaleLowerCase()}`)):e}function n(e,t){let r=t||new c;const s=(({tag:e,namespace:t})=>t?document.createElementNS(t,e):document.createElement(e))(e);return delete e.tag,r.unshift(s),a(e,r)}function a(e,t){let{namespace:r}=e;delete e.namespace;return t.isEmpty||t.forEach((t=>(t=>{for(const s in e)if(e.hasOwnProperty(s))if(r)t.setAttributeNS(null,i(s),e[s]);else switch(s){case"text":t["innerText"in document?"innerText":"textContent"]=e[s];break;case"html":t.innerHTML=e[s];break;case"class":case"classid":if("array"==typeof e[s])for(let r of e[s])t.classList.add(r);else"string"==typeof e[s]&&(t.className=e[s]);break;case"addClass":t.classList.add(e[s]);break;case"removeClass":t.classList.remove(e[s]);break;case"toggleClass":t.classList.toggle(e[s]);break;case"disabled":t.disabled=e[s];break;case"append":c.get(t).insertTo(e[s]);break;case"prepend":c.get(t).insertBefore(e[s],!0);break;case"before":c.get(t).insertBefore(e[s]);break;case"after":c.get(t).insertAfter(e[s]);break;case"value":t.value=e[s];break;case"dispatch":t.dispatchEvent(e[s]);break;case"replace":c.get(t).replace(e[s]);break;case"event":for(const r in e.event)e.event.hasOwnProperty(r)&&c.get(t).onEvent(r,e.event[r]);break;case"callback":e[s](t);break;case"readonly":case"readOnly":t.readOnly=e[s];break;default:t.setAttribute(s,e[s])}})(t))),t}function o(e,t){const r=(e,r)=>{if(!e)return t;for(const t in r)if(r.hasOwnProperty(t))switch(t){case"zIndex":e.style.zIndex=r[t];break;case"margin":e.style.margin=r[t];break;case"padding":e.style.padding=r[t];break;case"display":e.style.display=r[t];break;default:e.style[t]=r[t]}};return Array.isArray(e)?(e.forEach((({elm:e,props:t})=>{var s;r((s=e,c.get(s).first),t)})),t):(t.isEmpty||t.forEach((t=>r(t,e))),t)}class c extends r{constructor(e,t){return super(),t?this.create(e):this.get(e)}get childNodes(){return this.isEmpty?void 0:this.first.childNodes}get parent(){return this.isEmpty?void 0:this.first.parentNode}get nextSibling(){return this.isEmpty?void 0:this.first.nextSibling}get classList(){return this.isEmpty?void 0:this.first.classList}create(e){if(!e)return this;if(this.first)return c.create(e,{append:this.first});if(Array.isArray(e)){for(let t of e)("object"==typeof t||t.tag)&&n(e,this);return this}return n(e,this)}get(e){if(!e)return this;if("string"==typeof e)return function(e,t){let r=t||new c;if(!r.first&&/^(?:document|window)$/g.test(e))return r.get(/^document$/g.test(e)?document:window);if(r.first)return c.get(r.first.querySelectorAll(e));let s=document.querySelectorAll(e);return s.length?(s.forEach((e=>r.push(e))),r):r}(e,this);if(e instanceof c)return e;if(function(e){return e instanceof Document||e instanceof Window||e instanceof HTMLElement}(e))this.push(e);else if(e instanceof NodeList){if(0===e.length)return this;e.forEach((e=>this.push(e)))}return this}matches(e){let t=c.get(e),{length:r}=t;if(t.isEmpty)return!1;for(;--r>=0&&t.at(r)!==this.first;);return r>-1}getParents(e){const t=e=>c.get(e.parent),r=e=>{let{isEmpty:t,first:r}=e;return!t&&r!==document};let s=this,i=t(s);for(;r(s);s=t(s))e?s.matches(e)&&(i=s):i.unshift(s.first);return i}set(e,t){if("object"==typeof e){for(let t in e)this.set(t,e[t]);return this}if(this.isEmpty)return this;const[r,i]=((e,t)=>[Object.getOwnPropertyNames(this.first.style).some((t=>t===e)),{[e]:t}])(function(e){let{snaKebab:t}=s;return t.test(e)?(e=e.toLowerCase()).replace(t,(e=>e.toUpperCase().replace("-","").replace("_",""))):e}(e),t);return r?o(i,this):a(i,this)}remove(e){const t=e=>c.get(e).first;return e?this.first.removeChild(t(e)):t("body").removeChild(this.first),this}insert(e){const{first:t}=(s=c,(r=e)instanceof c?r:"object"==typeof r||s.get(r).isEmpty?s.create(r):s.get(r));var r,s;return this.first.appendChild(t),this}insertTo(e){var t;return(t=e,c.get(t).first).appendChild(this.first),this}insertBefore(e,t=!1){const{first:r,parent:s,childNodes:i}=c.get(e);return t?i.length?r.insertBefore(this.first,i[0]):this.insertTo(e):s.insertBefore(this.first,r),this}insertAfter(e){const{parent:t,nextSibling:r}=c.get(e);return t.insertBefore(this.first,r),this}replace(e){const{parent:t,first:r}=c.get(e);return t.replaceChild(this.first,r),this}onEvent(e,t,r=!1){return window.addEventListener&&(this.first||window).addEventListener(e,t,r),this}static create(e,t={}){if(e instanceof c)return e;const r=(e,t)=>Object.assign("string"==typeof e?{tag:e}:e,t);return Array.isArray(e)?(e.map((e=>{let{tag:s,...i}=e;return i?r(s,r(i,t)):r(e,t)})),new c(e,!0)):new c(r(e,t),!0)}static createList(e,t="ol",r={}){let s=c.create(t,r);return Array.isArray(e)&&e.forEach((e=>{if("object"==typeof e){let{title:t,type:r,content:i}=e,n=c.create("li",{html:t});Array.isArray(i)&&c.createList(i,r||"ol").insertTo(n),s.insert(n)}else"string"==typeof e&&s.insert({tag:"li",html:e})})),s}static createIcon(e,t={}){const r=e=>{let t={};for(const s in e)if("size"!==s)t[s]=e[s];else{let[i,n]=1==(r=e[s]).split(" ").length?[r,r]:r.split(" ");Object.assign(t,{width:i,height:n})}var r;return t},s="http://www.w3.org/2000/svg",i=c.create("svg",{namespace:s,...r(t)});return(Array.isArray(e)?e:[e]).forEach((({type:e,data:t})=>{i.insert({tag:e,namespace:s,...r(t)})})),i}static get(e){return e instanceof c?e:new c(e)}static async has(e,t=10){return new Promise((r=>{let s=setInterval((()=>{let{first:i}=c.get(e);i&&(r(i),clearInterval(s)),(t-=!1)&&(r(!1),clearInterval(s))}),1e3)}))}static addStyle(e,t={}){let r={tag:"style",html:e,append:"head"},s=Object.assign({},r,t);return c.create(s)}}return t=t.default})()));
//# sourceMappingURL=wayfu-dom.min.js.map